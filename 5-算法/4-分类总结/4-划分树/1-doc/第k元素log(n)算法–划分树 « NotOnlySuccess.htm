<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>第k元素log(n)算法–划分树 «  NotOnlySuccess</title>

<link rel="stylesheet" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/style.css" type="text/css" media="screen">
<link rel="alternate" type="application/rss+xml" title="NotOnlySuccess RSS Feed" href="http://www.notonlysuccess.com/index.php/feed/">
<link rel="alternate" type="application/atom+xml" title="NotOnlySuccess Atom Feed" href="http://www.notonlysuccess.com/index.php/feed/atom/">
<link rel="pingback" href="http://www.notonlysuccess.com/success/xmlrpc.php">


<link rel="alternate" type="application/rss+xml" title="NotOnlySuccess » 第k元素log(n)算法--划分树评论Feed" href="http://www.notonlysuccess.com/index.php/divide-tree/feed/">
<link rel="stylesheet" id="wp-quicklatex-format-css" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/quicklatex-format.css" type="text/css" media="all">
<link rel="stylesheet" id="wordpress-popular-posts-css" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/wpp.css" type="text/css" media="all">
<link rel="stylesheet" id="commentluv_style-css" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/commentluv.css" type="text/css" media="all">
<link rel="stylesheet" id="codebox-css" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/codebox.css" type="text/css" media="screen">
<link rel="stylesheet" id="wp-pagenavi-css" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/pagenavi-css.css" type="text/css" media="all">
<script src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/30933" async="" type="text/javascript"></script><script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/jquery_002.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/jquery-migrate.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var cl_settings = {"name":"author","url":"url","comment":"comment","email":"email","infopanel":null,"default_on":"on","default_on_admin":null,"cl_version":"2.92.1","images":"http:\/\/www.notonlysuccess.com\/success\/wp-content\/plugins\/commentluv\/images\/","api_url":"http:\/\/www.notonlysuccess.com\/success\/wp-admin\/admin-ajax.php","_fetch":"8063f24a0a","_info":"a9eabb037a","infoback":"white","infotext":null,"template_insert":"","logged_in":"","refer":"http:\/\/www.notonlysuccess.com\/index.php\/divide-tree\/","no_url_message":"\u8f93\u5165\u7f51\u5740\uff0c\u7136\u540e\u70b9\u51fbCommentLuv\u524d\u7684\u590d\u9009\u6846\u5c31\u53ef\u4ee5\u5206\u4eab\u4f60\u7684\u6700\u65b0\u535a\u5ba2\u6587\u7ae0\u3002","no_http_message":"\u786e\u4fdd\u7f51\u5740\u524d\u9762\u6709 http:\/\/ \u5b57\u6837","no_url_logged_in_message":"\u5728\u63a7\u5236\u677f\u4e2d\u4e2a\u4eba\u8bbe\u7f6e\u9875\u9762\u66f4\u65b0\u4f60\u7684\u7f51\u7ad9\u7684\u8be6\u7ec6\u4fe1\u606f\u3002","no_info_message":"\u627e\u4e0d\u5230\u4fe1\u606f\u6216\u8005\u51fa\u9519\u3002"};
/* ]]> */
</script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/commentluv.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/comment-reply.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/jquery_003.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/jquery.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/behaviours.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/codebox.js"></script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/wp-quicklatex-frontend.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.notonlysuccess.com/success/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.notonlysuccess.com/success/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 3.6.1">
<link rel="canonical" href="http://www.notonlysuccess.com/index.php/divide-tree/">
<link rel="shortlink" href="http://www.notonlysuccess.com/?p=142">

<link rel="stylesheet" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/jquery.css" type="text/css">
<link rel="stylesheet" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/popup.css" type="text/css">
<link rel="stylesheet" type="text/css" media="all" href="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/weibo.css">
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<!-- wp thread comment 1.4.9.4.002 -->
<style type="text/css" media="screen">
.editComment, .editableComment, .textComment{
	display: inline;
}
.comment-childs{
	border: 1px solid #999;
	margin: 5px 2px 2px 4px;
	padding: 4px 2px 2px 4px;
	background-color: white;
}
.chalt{
	background-color: #E2E2E2;
}
#newcomment{
	border:1px dashed #777;width:90%;
}
#newcommentsubmit{
	color:red;
}
.adminreplycomment{
	border:1px dashed #777;
	width:99%;
	margin:4px;
	padding:4px;
}
.mvccls{
	color: #999;
}
			
</style>

<script type="text/javascript">(function() {var c = document.createElement('script'); c.type = 'text/javascript'; c.async = true;c.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'www.clicki.cn/boot/30933';var h = document.getElementsByTagName('script')[0]; h.parentNode.insertBefore(c, h);})();</script>
</head>
<body>

<div id="wrapper">

<div id="page">

<div id="header">
		<h1><a href="http://www.notonlysuccess.com/">NotOnlySuccess</a></h1>
		<div class="description">Battle of the Brains</div>
</div>
	<div id="content">

	
		<div class="navigation">
			<div class="alignleft">« <a href="http://www.notonlysuccess.com/index.php/segment-tree/" rel="prev">线段树专辑</a></div>
			<div class="alignright"><a href="http://www.notonlysuccess.com/index.php/sensert/" rel="next">半学期小结</a> »</div>
            <div class="cb"></div>
		</div>

  <div id="post-142" class="post-142 post type-post status-publish format-standard hentry category-algorithm tag-k-th tag-logn tag-19 tag-20 tag-9">
 
<h1 class="post-title">第k元素log(n)算法--划分树</h1>
<div class="daa">十一月 27th, 2009</div>

			<div class="entry">
				<p>前几天学线段树,这个经典的K-th number一直没有做,关键是听别人说复杂度是log(n)^3,我对这个需要两次二分+一次查找的算法非常的不爽,于是一直拖着没搞<br>
今天正准备着手这题的时候,发现<a href="http://acm.pku.edu.cn/JudgeOnline/showmessage?message_id=126493">PKU的Disscuss</a>有人提到log(n)的算法,而且编程复杂度比log(n)^3的还小,于是对这种算法充满了憧憬,那个log(n)^3的写到一半也放弃了(其实log(n)^3的归并树算法化简了之后就是求n个有序数列的第k大数)<br>
YY了很久之后,得到下边这个代码..关键部分已经很明白的加了的注释<br>
完全看明白之后会发现一个非常有趣的现象,划分树逆着做就变成了归并树<br>
(其实我也不知道这是不是hyerty大神所说的划分树,乱YY的)<br>
画了一颗划分树对数列[1  5  2  3  6  4  7  3  0  0]进行划分,下图有助于理解(红色表示该数被分到左儿子)<br>
</p><div id="attachment_161" class="wp-caption aligncenter" style="width: 573px"><img src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a.png" alt="划分树" title="划分树" class="size-full wp-image-161" height="256" width="563"><p class="wp-caption-text">划分树</p></div><br>
<span id="more-142"></span><p></p>

<div class="wp_codebox_msgheader wp_codebox_hide active"><span class="right"><sup><a href="http://www.ericbess.com/ericblog/2008/03/03/wp-codebox/#examples" target="_blank" title="WP-CodeBox HowTo?"><span style="color: #99cc00">?</span></a></sup></span><span class="left"><a href="javascript:;" onclick="javascript:showCodeTxt('p142code1'); return false;">View Code</a> CPP</span><div class="codebox_clear"></div></div><div style="display: none;" class="wp_codebox"><table><tbody><tr id="p1421"><td class="line_numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
</pre></td><td class="code" id="p142code1"><pre class="cpp" style="font-family:monospace;"><span style="color: #339900;">#define M 100001</span>
<span style="color: #0000ff;">struct</span> Seg_Tree<span style="color: #008000;">{</span>
    <span style="color: #0000ff;">int</span> left,right<span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> mid<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">return</span> <span style="color: #008000;">(</span>left <span style="color: #000040;">+</span> right<span style="color: #008000;">)</span> <span style="color: #000080;">&gt;&gt;</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span>
<span style="color: #008000;">}</span>tt<span style="color: #008000;">[</span>M<span style="color: #000040;">*</span><span style="color: #0000dd;">4</span><span style="color: #008000;">]</span><span style="color: #008080;">;</span>
<span style="color: #0000ff;">int</span> len<span style="color: #008080;">;</span>
<span style="color: #0000ff;">int</span> sorted<span style="color: #008000;">[</span>M<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
<span style="color: #0000ff;">int</span> toLeft<span style="color: #008000;">[</span><span style="color: #0000dd;">20</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>M<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
<span style="color: #0000ff;">int</span> val<span style="color: #008000;">[</span><span style="color: #0000dd;">20</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>M<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
&nbsp;
<span style="color: #0000ff;">void</span> build<span style="color: #008000;">(</span><span style="color: #0000ff;">int</span> l,<span style="color: #0000ff;">int</span> r,<span style="color: #0000ff;">int</span> d,<span style="color: #0000ff;">int</span> idx<span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
    tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span> <span style="color: #000080;">=</span> l<span style="color: #008080;">;</span>
    tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">right</span> <span style="color: #000080;">=</span> r<span style="color: #008080;">;</span>
    <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span> <span style="color: #000080;">==</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">right</span><span style="color: #008000;">)</span>    <span style="color: #0000ff;">return</span> <span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> mid <span style="color: #000080;">=</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">mid</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> lsame <span style="color: #000080;">=</span> mid <span style="color: #000040;">-</span> l <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span><span style="color: #666666;">//lsame表示和val_mid相等且分到左边的</span>
    <span style="color: #0000ff;">for</span><span style="color: #008000;">(</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> l <span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;=</span> r <span style="color: #008080;">;</span> i <span style="color: #000040;">++</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">&lt;</span> sorted<span style="color: #008000;">[</span>mid<span style="color: #008000;">]</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            lsame <span style="color: #000040;">--</span><span style="color: #008080;">;</span><span style="color: #666666;">//先假设左边的数(mid - l + 1)个都等于val_mid,然后把实际上小于val_mid的减去</span>
        <span style="color: #008000;">}</span>
    <span style="color: #008000;">}</span>
    <span style="color: #0000ff;">int</span> lpos <span style="color: #000080;">=</span> l<span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> rpos <span style="color: #000080;">=</span> mid<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
    <span style="color: #0000ff;">int</span> same <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
    <span style="color: #0000ff;">for</span><span style="color: #008000;">(</span><span style="color: #0000ff;">int</span> i <span style="color: #000080;">=</span> l <span style="color: #008080;">;</span> i <span style="color: #000080;">&lt;=</span> r <span style="color: #008080;">;</span> i <span style="color: #000040;">++</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>i <span style="color: #000080;">==</span> l<span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span><span style="color: #666666;">//toLeft[i]表示[ tt[idx].left , i ]区域里有多少个数分到左边</span>
        <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">{</span>
            toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">=</span> toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #000040;">-</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        <span style="color: #008000;">}</span>
        <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">&lt;</span> sorted<span style="color: #008000;">[</span>mid<span style="color: #008000;">]</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000040;">++</span><span style="color: #008080;">;</span>
            val<span style="color: #008000;">[</span>d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>lpos<span style="color: #000040;">++</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">&gt;</span> sorted<span style="color: #008000;">[</span>mid<span style="color: #008000;">]</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            val<span style="color: #008000;">[</span>d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>rpos<span style="color: #000040;">++</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">{</span>
            <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>same <span style="color: #000080;">&lt;</span> lsame<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><span style="color: #666666;">//有lsame的数是分到左边的</span>
                same <span style="color: #000040;">++</span><span style="color: #008080;">;</span>
                toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000040;">++</span><span style="color: #008080;">;</span>
                val<span style="color: #008000;">[</span>d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>lpos<span style="color: #000040;">++</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
            <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">{</span>
                val<span style="color: #008000;">[</span>d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>rpos<span style="color: #000040;">++</span><span style="color: #008000;">]</span> <span style="color: #000080;">=</span> val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
            <span style="color: #008000;">}</span>
        <span style="color: #008000;">}</span>
    <span style="color: #008000;">}</span>
    build<span style="color: #008000;">(</span>l,mid,d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>,LL<span style="color: #008000;">(</span>idx<span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
    build<span style="color: #008000;">(</span>mid<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>,r,d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>,RR<span style="color: #008000;">(</span>idx<span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0000ff;">int</span> query<span style="color: #008000;">(</span><span style="color: #0000ff;">int</span> l,<span style="color: #0000ff;">int</span> r,<span style="color: #0000ff;">int</span> k,<span style="color: #0000ff;">int</span> d,<span style="color: #0000ff;">int</span> idx<span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
    <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>l <span style="color: #000080;">==</span> r<span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">return</span> val<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>l<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span>
    <span style="color: #0000ff;">int</span> s<span style="color: #008080;">;</span><span style="color: #666666;">//s表示[ l , r ]有多少个分到左边</span>
    <span style="color: #0000ff;">int</span> ss<span style="color: #008080;">;</span><span style="color: #666666;">//ss表示 [tt[idx].left , l-1 ]有多少个分到左边</span>
    <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>l <span style="color: #000080;">==</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        s <span style="color: #000080;">=</span> toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>r<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        ss <span style="color: #000080;">=</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">{</span>
        s <span style="color: #000080;">=</span> toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>r<span style="color: #008000;">]</span> <span style="color: #000040;">-</span> toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>l<span style="color: #000040;">-</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        ss <span style="color: #000080;">=</span> toLeft<span style="color: #008000;">[</span>d<span style="color: #008000;">]</span><span style="color: #008000;">[</span>l<span style="color: #000040;">-</span><span style="color: #0000dd;">1</span><span style="color: #008000;">]</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span>
    <span style="color: #0000ff;">if</span><span style="color: #008000;">(</span>s <span style="color: #000080;">&gt;=</span> k<span style="color: #008000;">)</span> <span style="color: #008000;">{</span><span style="color: #666666;">//有多于k个分到左边,显然去左儿子区间找第k个</span>
        <span style="color: #0000ff;">int</span> newl <span style="color: #000080;">=</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span> <span style="color: #000040;">+</span> ss<span style="color: #008080;">;</span>
        <span style="color: #0000ff;">int</span> newr <span style="color: #000080;">=</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span> <span style="color: #000040;">+</span> ss <span style="color: #000040;">+</span> s <span style="color: #000040;">-</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span><span style="color: #666666;">//计算出新的映射区间</span>
        <span style="color: #0000ff;">return</span> query<span style="color: #008000;">(</span>newl,newr,k,d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>,LL<span style="color: #008000;">(</span>idx<span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span> <span style="color: #0000ff;">else</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">int</span> mid <span style="color: #000080;">=</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">mid</span><span style="color: #008000;">(</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
        <span style="color: #0000ff;">int</span> bb <span style="color: #000080;">=</span> l <span style="color: #000040;">-</span> tt<span style="color: #008000;">[</span>idx<span style="color: #008000;">]</span>.<span style="color: #007788;">left</span> <span style="color: #000040;">-</span> ss<span style="color: #008080;">;</span><span style="color: #666666;">//bb表示 [tt[idx].left , l-1 ]有多少个分到右边</span>
        <span style="color: #0000ff;">int</span> b <span style="color: #000080;">=</span> r <span style="color: #000040;">-</span> l <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span> <span style="color: #000040;">-</span> s<span style="color: #008080;">;</span><span style="color: #666666;">//b表示 [l , r]有多少个分到右边</span>
        <span style="color: #0000ff;">int</span> newl <span style="color: #000080;">=</span> mid <span style="color: #000040;">+</span> bb <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008080;">;</span>
        <span style="color: #0000ff;">int</span> newr <span style="color: #000080;">=</span> mid <span style="color: #000040;">+</span> bb <span style="color: #000040;">+</span> b<span style="color: #008080;">;</span>
        <span style="color: #0000ff;">return</span> query<span style="color: #008000;">(</span>newl,newr,k<span style="color: #000040;">-</span>s,d<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span>,RR<span style="color: #008000;">(</span>idx<span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
    <span style="color: #008000;">}</span>
<span style="color: #008000;">}</span>
&nbsp;
<span style="color: #0000ff;">int</span> main<span style="color: #008000;">(</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
    <span style="color: #0000ff;">int</span> T<span style="color: #008080;">;</span>
    <span style="color: #0000dd;">scanf</span><span style="color: #008000;">(</span><span style="color: #FF0000;">"%d"</span>,<span style="color: #000040;">&amp;</span>T<span style="color: #008000;">)</span><span style="color: #008080;">;</span>
    <span style="color: #0000ff;">while</span><span style="color: #008000;">(</span>T <span style="color: #000040;">--</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
        <span style="color: #0000ff;">int</span> n , m<span style="color: #008080;">;</span>
        <span style="color: #0000dd;">scanf</span><span style="color: #008000;">(</span><span style="color: #FF0000;">"%d%d"</span>,<span style="color: #000040;">&amp;</span>n,<span style="color: #000040;">&amp;</span>m<span style="color: #008000;">)</span><span style="color: #008080;">;</span>
        FOR<span style="color: #008000;">(</span>i,<span style="color: #0000dd;">1</span>,n<span style="color: #000040;">+</span><span style="color: #0000dd;">1</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            <span style="color: #0000dd;">scanf</span><span style="color: #008000;">(</span><span style="color: #FF0000;">"%d"</span>,<span style="color: #000040;">&amp;</span>val<span style="color: #008000;">[</span><span style="color: #0000dd;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
            sorted<span style="color: #008000;">[</span>i<span style="color: #008000;">]</span> <span style="color: #000080;">=</span> val<span style="color: #008000;">[</span><span style="color: #0000dd;">0</span><span style="color: #008000;">]</span><span style="color: #008000;">[</span>i<span style="color: #008000;">]</span><span style="color: #008080;">;</span>
        <span style="color: #008000;">}</span>
        sort<span style="color: #008000;">(</span>sorted <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span> , sorted <span style="color: #000040;">+</span> n <span style="color: #000040;">+</span> <span style="color: #0000dd;">1</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
        build<span style="color: #008000;">(</span><span style="color: #0000dd;">1</span>,n,<span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">1</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
        <span style="color: #0000ff;">while</span><span style="color: #008000;">(</span>m <span style="color: #000040;">--</span><span style="color: #008000;">)</span> <span style="color: #008000;">{</span>
            <span style="color: #0000ff;">int</span> l,r,k<span style="color: #008080;">;</span>
            <span style="color: #0000dd;">scanf</span><span style="color: #008000;">(</span><span style="color: #FF0000;">"%d%d%d"</span>,<span style="color: #000040;">&amp;</span>l,<span style="color: #000040;">&amp;</span>r,<span style="color: #000040;">&amp;</span>k<span style="color: #008000;">)</span><span style="color: #008080;">;</span>
            <span style="color: #0000dd;">printf</span><span style="color: #008000;">(</span><span style="color: #FF0000;">"%d<span style="color: #000099; font-weight: bold;">\n</span>"</span>,query<span style="color: #008000;">(</span>l,r,k,<span style="color: #0000dd;">0</span>,<span style="color: #0000dd;">1</span><span style="color: #008000;">)</span><span style="color: #008000;">)</span><span style="color: #008080;">;</span>
        <span style="color: #008000;">}</span>
    <span style="color: #008000;">}</span>
    <span style="color: #0000ff;">return</span> <span style="color: #0000dd;">0</span><span style="color: #008080;">;</span>
<span style="color: #008000;">}</span></pre></td></tr></tbody></table></div>

<p>后记:写完后去PKU交了一下,原以为不是rank1也至少是前十,结果连1s都没跑进去...<br>
看了数据后发现m&lt;=5000很少<br>
意味着  nlogn(建树常数较大) + mlngn<br>
和   nlogn(建树常数小)+mlogn^3<br>
前者没占多少优势...<br>
在我们hduoj也找了一道,所幸这题m &lt;= 100000很大<br>
两题比较:<br>
OJ     nlog(n) + mlog(n)    nlog(n) + mlog(n)^3<br>
<a href="http://acm.hdu.edu.cn/showproblem.php?pid=2665">HDU</a>    少于500MS      3000MS左右<br>
<a href="http://acm.pku.edu.cn/JudgeOnline/problem?id=2104">PKU</a>    1000MS左右     1000-2000MS</p>
<p>
2010.7.23跟新<br>
扩展:<br>
<a href="http://acm.hdu.edu.cn/showproblem.php?pid=3473">Minimum Sum</a><br>
找到区间中的中位数,然后确定绝对值只和<br>
就是找区间[l,r]的第(l-r+2)/2个数,而求和的话在Query函数里找到kth number后递归上来后再处理一下,需要另开一个数组sum[deep][i]表示第deep层,区间[ tt[idx].Left , i]的和</p>
<p>我比较懒都没有解释什么,只写了个代码<br>
<a href="http://blog.sina.com.cn/s/blog_5f5353cc0100ki2e.html">这篇文章</a>解释的很清楚,可以去看看<br>
我的代码只是为了理解方便点写的这么麻烦,其实划分树可以写的很简洁很简洁的,有好多地方可以优化~~</p>

								<p>Tags: <a href="http://www.notonlysuccess.com/index.php/tag/k-th/" rel="tag">K-th</a>, <a href="http://www.notonlysuccess.com/index.php/tag/logn/" rel="tag">log(n)</a>, <a href="http://www.notonlysuccess.com/index.php/tag/%e5%88%92%e5%88%86%e6%a0%91/" rel="tag">划分树</a>, <a href="http://www.notonlysuccess.com/index.php/tag/%e5%bd%92%e5%b9%b6%e6%a0%91/" rel="tag">归并树</a>, <a href="http://www.notonlysuccess.com/index.php/tag/%e7%ba%bf%e6%ae%b5%e6%a0%91/" rel="tag">线段树</a></p>
				<p class="postmetadata alt">
					<small>
						This entry was posted
												on 星期五, 十一月 27th, 2009 at 23:01						and is filed under <a href="http://www.notonlysuccess.com/index.php/category/acm/algorithm/" title="查看Algorithm中的全部文章" rel="category tag">Algorithm</a>.
						You can follow any responses to this entry through the <a href="http://www.notonlysuccess.com/index.php/divide-tree/feed/">RSS 2.0</a> feed.

													You can <a href="#respond">leave a response</a>, or <a href="http://www.notonlysuccess.com/index.php/divide-tree/trackback/" rel="trackback">trackback</a> from your own site.

						
					</small>
				</p>

			</div>
		</div>

	
<!-- You can start editing here. -->

	<h3 id="comments">54 Responses to “第k元素log(n)算法--划分树”</h3>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>

	<ol class="commentlist">
			<li class="comment even thread-even depth-1" id="comment-4019">
				<div id="div-comment-4019" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/75a04ea7164f21fbbc353162c70ec883.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">becauseofyou</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-4019">
			2012/09/3001:07</a>		</div>

		<p>函数式线段树太给力了，五六十行就搞定了- -</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,4019,1,'becauseofyou');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=4019#respond" onclick='return addComment.moveForm("div-comment-4019", "4019", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-4001">
				<div id="div-comment-4001" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/1f4a82729bb023b0004bdc9076553c1a.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://blog.csdn.net/fp_hzq" rel="external nofollow" class="url">Pira</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-4001">
			2012/09/1910:40</a>		</div>

		<p>刷完这页了，这棵树算告一段落。。。:)</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,4001,1,'Pira');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=4001#respond" onclick='return addComment.moveForm("div-comment-4001", "4001", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3979">
				<div id="div-comment-3979" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">vapour</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-3979">
			2012/08/2020:49</a>		</div>

		<p>第69行<br>
 int newr = tt[idx].left + ss + s - 1;//计算出新的映射区间<br>
-1 如果s==k,会不会把k-th number所在的位置正好减掉了?</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,3979,1,'vapour');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=3979#respond" onclick='return addComment.moveForm("div-comment-3979", "3979", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3952">
				<div id="div-comment-3952" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/3ba386c9bd7c66d78447def6b3c4b352.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">Proverbs</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-3952">
			2012/07/3015:20</a>		</div>

		<p>神牛，我写了一了看上去简洁一点的划分树，终于在POJ 2104跑了800+ms<br>
求优化~谢神牛代码和讲解给我的帮助！</p>
<p>#include<br>
#include<br>
#include<br>
#include<br>
#define M 100005<br>
using namespace std;<br>
int sorted[M],toleft[30][M],tree[30][M],m,n;<br>
void read()<br>
{<br>
    for(int i=1;i&gt;1;<br>
    int same=mid-l+1;//左子树中的数字个数<br>
    for(int i=l;i&lt;=r;i++)<br>
        if(tree[d][i]&lt;sorted[mid]) same--;//此时same成为和中位数相等的位于左子树的数字个数 </p>
<p>    int ls=l,rs=mid+1;//分别为左右区间的起点<br>
    for(int i=l;i&lt;=r;i++)<br>
    {<br>
        int fg=0;<br>
        if((tree[d][i]0))//将符合条件的数分到左子树<br>
        {<br>
            fg=1;<br>
            tree[d+1][ls++]=tree[d][i];<br>
            if(tree[d][i]==sorted[mid]) same--;//有些与中位数相同的数分到左子树，剩下的分到右子树<br>
        }<br>
        else tree[d+1][rs++]=tree[d][i];//分到右子树<br>
        toleft[d][i]=toleft[d][i-1]+fg;//toleft[d][i]表示从l到i区间中有多少数分到了其左子树中<br>
    }<br>
    //递归建树<br>
    create(l,mid,d+1);<br>
    create(mid+1,r,d+1);<br>
}<br>
int query(int ql,int qr,int k,int l,int r,int d)<br>
{<br>
    if(ql==qr) return tree[d][ql];<br>
    int mid=(l+r)&gt;&gt;1;<br>
    int x=toleft[d][ql-1]-toleft[d][l-1];//位于ql（待求区间左端点）（不包括ql）左边的放于左子树中的数字个数<br>
    int y=toleft[d][qr]-toleft[d][l-1];//位于qr（待求区间右端点）（包括qr）左边的放于左子树中的数字个数<br>
    int ry=qr-l+1-y;//位于qr（包含qr）的在右子树中的数字个数<br>
    int cnt=y-x;//位于区间[ql,qr]中的在左子树中的数字个数<br>
    int rx=ql-l-x;//位于ql左边（不包含ql）的在右子树中的数字个数<br>
    if(cnt&gt;=k) return query(l+x,l+y-1,k,l,mid,d+1);<br>
    else return query(mid+rx+1,mid+ry,k-cnt,mid+1,r,d+1);<br>
}<br>
void go()<br>
{<br>
    create(1,m,0);<br>
    for(int i=1,a,b,k;i&lt;=n;i++)<br>
    {<br>
        scanf("%d%d%d",&amp;a,&amp;b,&amp;k);<br>
        int ans=query(a,b,k,1,m,0);<br>
        printf("%d\n",ans);<br>
    }<br>
}<br>
int main()<br>
{<br>
    while(scanf("%d%d",&amp;m,&amp;n)!=EOF)<br>
    {<br>
        read();<br>
        go();<br>
    }<br>
    return 0;<br>
}</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,3952,1,'Proverbs');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=3952#respond" onclick='return addComment.moveForm("div-comment-3952", "3952", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2907">
				<div id="div-comment-2907" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/db8ed9c226cfb650b1ff19a8b5fe1869.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">昵称(必须)</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2907">
			2011/10/0900:47</a>		</div>

		<p>学长 你好！  这道你所说的线段树的做法我实在想不到，划分树我看了，我起先觉得可以用线段树套SBT做 后开发现时间复杂度会很高！！！所以想问下你那种二分二分的是怎么个思路？谢谢！</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2907,1,'昵称(必须)');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2907#respond" onclick='return addComment.moveForm("div-comment-2907", "2907", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2738">
				<div id="div-comment-2738" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/390ba7fe743122e7d40c1b778d8777f1.jpg" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://blog.csdn.net/zxy_snow" rel="external nofollow" class="url">小媛</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2738">
			2011/08/1212:53</a>		</div>

		<p>借下LZ的图哈~~<br>
<span class="cluv">小媛´s last [type] ..<a class="af8a9c70f4 2738" rel="nofollow" href="http://blog.csdn.net/zxy_snow/article/details/6681086">划分树学习（poj 2104，hdu 3473）</a></span></p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2738,1,'小媛');">回复</a>]</p><div class="comment-childs chalt" id="comment-2739"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">八月 12th, 2011 at 13:20</small></p><p>哈哈,你写的比我详细多了~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2739,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2738#respond" onclick='return addComment.moveForm("div-comment-2738", "2738", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2696">
				<div id="div-comment-2696" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/c7aee595d88da122aa3c131959be90a3.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">云卷云舒</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2696">
			2011/07/2809:24</a>		</div>

		<p>int lsame = mid - l + 1;//lsame表示和val_mid相等且分到左边的<br>
	for(int i = l ; i &lt;= r ; i ++) {<br>
		if(val[d][i] &lt; sorted[mid]) {<br>
			lsame --;//先假设左边的数(mid - l + 1)个都等于val_mid,然后把实际上小于val_mid的减去<br>
		}<br>
	}<br>
为什么for循环是从l到r，而不是l到mid呢。</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2696,1,'云卷云舒');">回复</a>]</p><div class="comment-childs chalt" id="comment-2697"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/c7aee595d88da122aa3c131959be90a3.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">云卷云舒</a></cite> 回复:<br><small class="commentmetadata">七月 28th, 2011 at 10:05</small></p><p>懂了。呵呵</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2697,2,'云卷云舒');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2696#respond" onclick='return addComment.moveForm("div-comment-2696", "2696", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-2594">
				<div id="div-comment-2594" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href="http://moredcn.wordpress.com/2011/05/08/sdoi2010-bzoj1926-%e7%b2%9f%e7%b2%9f%e7%9a%84%e4%b9%a6%e6%9e%b6/" rel="external nofollow" class="url">[SDOI2010] [BZOJ1926] 粟粟的书架 « moreD</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2594">
			2011/05/0816:16</a>		</div>

		<p>[...] 
第二类数据：这个显然是跟区间操作有关的。借鉴刚才的思想，我们的操作就是查询区间最大k个数的和。对着这个操作，我们可以想到划分树这一数据结构。划分
树的操作就不讲了，需要的参考NotOnlySuccess神牛的讲解。这题只需要多记录一个ToLeft的元素的Sum就可以了。其实就是个基本的划分
树。时间复杂度O（）。 [...]</p>

		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2594#respond" onclick='return addComment.moveForm("div-comment-2594", "2594", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2545">
				<div id="div-comment-2545" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/157c1bc9de334c7333601e8650e12eaf.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://hi.baidu.com/drcrow" rel="external nofollow" class="url">drcrow</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2545">
			2011/04/2921:22</a>		</div>

		<p>请解释一下，如果所有的点都在中点右边的话可能会溢出，这个怎么处理？<br>
比如<br>
1 2 3 0 4 5 6 17<br>
维护时取0做中点，结果7个点都放在tree[0][4]之后了<br>
——————<br>
我是沙茶……<br>
<span class="cluv">drcrow´s last [type] ..<a class="9af11edb9b 2545" rel="nofollow" href="http://hi.baidu.com/drcrow/blog/item/7f85788fb8875582a5c272f3.html">关于link-cut tree</a></span></p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2545,1,'drcrow');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2545#respond" onclick='return addComment.moveForm("div-comment-2545", "2545", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2154">
				<div id="div-comment-2154" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">hanhan</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-2154">
			2010/11/2721:07</a>		</div>

		<p>好棒；<br>
膜拜一下</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,2154,1,'hanhan');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=2154#respond" onclick='return addComment.moveForm("div-comment-2154", "2154", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1886">
				<div id="div-comment-1886" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/26972dc0de281073c1fa7677cc2919be.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">zyue1105</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1886">
			2010/08/1800:33</a>		</div>

		<p>发觉倒着做其实是对数组下标做归并排序</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1886,1,'zyue1105');">回复</a>]</p><div class="comment-childs chalt" id="comment-1887"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">八月 18th, 2010 at 12:30</small></p><p>恩,划分树逆着做就变成了归并树</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1887,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1886#respond" onclick='return addComment.moveForm("div-comment-1886", "1886", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1883">
				<div id="div-comment-1883" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/26972dc0de281073c1fa7677cc2919be.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">zyue1105</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1883">
			2010/08/1710:11</a>		</div>

		<p>划分树逆着做是归并树？我看起来觉得像快排</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1883,1,'zyue1105');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1883#respond" onclick='return addComment.moveForm("div-comment-1883", "1883", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1808">
				<div id="div-comment-1808" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/3508ade58ba2be38e282510943aac7d8.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">风炎</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1808">
			2010/08/0823:59</a>		</div>

		<p>小HH牛，我将你的代码按我的理解进行了解释，不知同意否。<br>
<a href="http://blog.sina.com.cn/s/blog_5f5353cc0100ki2e.html" rel="nofollow">http://blog.sina.com.cn/s/blog_5f5353cc0100ki2e.html</a></p>
<p>如果不同意的话，我把文章删了，如果同意，麻烦看下是否理解错的地方。</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1808,1,'风炎');">回复</a>]</p><div class="comment-childs chalt" id="comment-1813"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">八月 10th, 2010 at 11:44</small></p><p>感谢解释~我加个链接~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1813,2,'shǎ崽');">回复</a>]</p><div class="comment-childs" id="comment-1814"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/3508ade58ba2be38e282510943aac7d8.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">风炎</a></cite> 回复:<br><small class="commentmetadata">八月 10th, 2010 at 23:10</small></p><p>嗯，多谢小HH牛</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1814,3,'风炎');">回复</a>]</p></div></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1808#respond" onclick='return addComment.moveForm("div-comment-1808", "1808", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1786">
				<div id="div-comment-1786" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/f99c8aef2639a8a714e660f8226f20cb.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">FHNstephen</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1786">
			2010/08/0516:13</a>		</div>

		<p>YMhh大牛...<br>
我在我的blog上贴了这文章的地址..不介意吧？不行的话我马上删掉..</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1786,1,'FHNstephen');">回复</a>]</p><div class="comment-childs chalt" id="comment-1788"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">八月 5th, 2010 at 17:59</small></p><p>当然没问题啦</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1788,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1786#respond" onclick='return addComment.moveForm("div-comment-1786", "1786", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1781">
				<div id="div-comment-1781" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/3e1db6384c1a14a4341e7a45e07419cb.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">BBTiger</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1781">
			2010/08/0416:32</a>		</div>

		<p>请问大牛，您提到的3xian的Turing tree是什么来的？我怎么找不到资料呢？3xian独有绝技？</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1781,1,'BBTiger');">回复</a>]</p><div class="comment-childs chalt" id="comment-1789"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">八月 5th, 2010 at 18:00</small></p><p>不知道.....只闻其名,不见其身</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1789,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1781#respond" onclick='return addComment.moveForm("div-comment-1781", "1781", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1754">
				<div id="div-comment-1754" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/62cb5f83c16131d987b81cb609fba0b6.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://%E7%BD%91%E7%AB%99/" rel="external nofollow" class="url">reinyel</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1754">
			2010/07/3001:05</a>		</div>

		<p>谢谢你的程序：）<br>
我做了一下优化，排序的中间结果可以不用存，因为当查询区间为单位长，而结点没有到叶子时，可以用类似的方法继续向下直到叶子，这时就知道要找的数是原数组中第几大了。而且这道题没必要显建树。<br>
但是时间上还是没进1S。。。应该还可以优化</p>
<p>query的代码：<br>
int query(int l, int r, int k)<br>
{<br>
	int d = 0;<br>
	int low = 1, high = nCount;<br>
	for (; low != high; d++) {<br>
		int ss = l == low ? 0 : f[d][l - 1];<br>
		int s = f[d][r] - ss;<br>
		if (s &gt;= k)<br>
			high = low + high &gt;&gt; 1;<br>
		else {<br>
			k -= s;<br>
			ss = l - low - ss;<br>
			s = r - l + 1 - s;<br>
			low = (low + high &gt;&gt; 1) + 1;<br>
		}<br>
		l = low + ss, r = l + s - 1;<br>
	}<br>
	return a[low];<br>
}</p>
<p>最后还是感谢你的文章：）</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1754,1,'reinyel');">回复</a>]</p><div class="comment-childs chalt" id="comment-1764"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">七月 31st, 2010 at 19:10</small></p><p>嗯嗯,我上边这个模板确实写的非常的冗余~可以化简很多~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1764,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1754#respond" onclick='return addComment.moveForm("div-comment-1754", "1754", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1356">
				<div id="div-comment-1356" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">overpower</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1356">
			2010/05/2616:13</a>		</div>

		<p>特来YM</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1356,1,'overpower');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1356#respond" onclick='return addComment.moveForm("div-comment-1356", "1356", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1184">
				<div id="div-comment-1184" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/1d8e646b9fe684d087a13d294b39e77b.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://t.qq.com/" rel="external nofollow" class="url">qq微博</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1184">
			2010/05/1001:38</a>		</div>

		<p>厉害，这个看的我有点晕</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1184,1,'qq微博');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1184#respond" onclick='return addComment.moveForm("div-comment-1184", "1184", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1140">
				<div id="div-comment-1140" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/7e3ec95de7720ea39849c48dd9a498a6.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">abilitytao</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1140">
			2010/05/0513:47</a>		</div>

		<p>拜读下</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1140,1,'abilitytao');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1140#respond" onclick='return addComment.moveForm("div-comment-1140", "1140", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-1139">
				<div id="div-comment-1139" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">share4</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1139">
			2010/05/0510:18</a>		</div>

		<p>特来膜拜小hh</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1139,1,'share4');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1139#respond" onclick='return addComment.moveForm("div-comment-1139", "1139", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-1011">
				<div id="div-comment-1011" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/7452fc2e51758923900e87c89e910188.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">zt5840</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-1011">
			2010/04/2116:53</a>		</div>

		<p>int b = r - l + 1 - s;<br>
//b表示 [tt[idx].left , l-1 ]有多少个分到右边</p>
<p>这句话好像有错吧。</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,1011,1,'zt5840');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=1011#respond" onclick='return addComment.moveForm("div-comment-1011", "1011", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-828">
				<div id="div-comment-828" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">Sasuke</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-828">
			2010/04/0113:34</a>		</div>

		<p>想问大牛，如果要对中间的元素进行修改的时候，应该怎么做比较高效呢？<br>
我只能想到每层都进行相应修改，但是这样效率太低了，不知大牛有什么好办法？</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,828,1,'Sasuke');">回复</a>]</p><div class="comment-childs chalt" id="comment-829"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">四月 1st, 2010 at 13:56</small></p><p>经典的几个kth number的算法都是离线处理的<br>
暂时还想不出可以即使更新的算法<br>
期待3xian的turing tree有这个功能</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,829,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=828#respond" onclick='return addComment.moveForm("div-comment-828", "828", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-775">
				<div id="div-comment-775" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/cc2b35a750502e143aea306474dc3e25.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">TonyShaw</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-775">
			2010/03/1819:03</a>		</div>

		<p>求教图示中val中0元素为什么排在最后面，而sroted中却在最前面。同样的在最后的0元素在划分的时候却到左子树？<br>
神牛能否讲一下具体思路，我的语言为pascal- -！看代码不带懂。</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,775,1,'TonyShaw');">回复</a>]</p><div class="comment-childs chalt" id="comment-776"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/cc2b35a750502e143aea306474dc3e25.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite>TonyShaw</cite> 回复:<br><small class="commentmetadata">三月 18th, 2010 at 19:33</small></p><p>请先无视掉第一个问题……</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,776,2,'TonyShaw');">回复</a>]</p></div><div class="comment-childs chalt" id="comment-777"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/cc2b35a750502e143aea306474dc3e25.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite>TonyShaw</cite> 回复:<br><small class="commentmetadata">三月 18th, 2010 at 19:44</small></p><p>第二个问题也无视掉好了^_^<br>
我想问一下样例，比如现在建好树后（就像图片一样），现在要查询区间[3,6]的第2大数，也就是原序列中[3,6]: 2 3 6 4的第2大数，请问怎么操作？能模拟一下么？您的程序我编译不过- -！</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,777,2,'TonyShaw');">回复</a>]</p></div><div class="comment-childs chalt" id="comment-779"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/cc2b35a750502e143aea306474dc3e25.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite>TonyShaw</cite> 回复:<br><small class="commentmetadata">三月 19th, 2010 at 07:56</small></p><p>Orz……我明白了。o(╯□╰)o</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,779,2,'TonyShaw');">回复</a>]</p><div class="comment-childs" id="comment-781"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">三月 19th, 2010 at 11:49</small></p><p>哎呀，没有及时回复~~sorry~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,781,3,'shǎ崽');">回复</a>]</p></div></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=775#respond" onclick='return addComment.moveForm("div-comment-775", "775", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-694">
				<div id="div-comment-694" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/bce4431528f310b318adf63aac528210.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">Cinderella</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-694">
			2010/03/0322:51</a>		</div>

		<p>我非常好奇的想知道 你的博客左边侧的三维的题目分类是拿什么软件做的&amp;&amp;这篇blog里的图片是那什么软件做的 O(∩_∩)O 谢谢啦~ 学习中……</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,694,1,'Cinderella');">回复</a>]</p><div class="comment-childs chalt" id="comment-701"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">三月 4th, 2010 at 14:53</small></p><p>那个三维的好像是一个插件Community Cloud<br>
而这图片我是用word乱画画出来的~呵呵~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,701,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=694#respond" onclick='return addComment.moveForm("div-comment-694", "694", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-522">
				<div id="div-comment-522" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/4130e1bd26c46a78067cb579f7301ab5.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">夜雨</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-522">
			2010/02/1102:28</a>		</div>

		<p>大牛这么多。而我依然是一只小小菜鸟~~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,522,1,'夜雨');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=522#respond" onclick='return addComment.moveForm("div-comment-522", "522", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-110">
				<div id="div-comment-110" class="comment-body">
				<div class="comment-author vcard">
						<cite class="fn"><a href="http://www.hhanger.com/blog/?p=118" rel="external nofollow" class="url">COCI 2009/2010 Contest #3 | 籟·来·也</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-110">
			2010/01/0510:21</a>		</div>

		<p>[...] 
因为我觉得这个题的这个思路挺赞的，于是把这个题拿到ACM_DIY群上讨论，结果发现，利用之间群里讨论过，hh写过的O(logn)求区间第K大数的
方法，可以用更低复杂度解决此题。因为如果某个元素在区间中出现次数超过一半，那么这个数一定是区间第S/2大的，其中S为区间长度，因此可以直接把候选
名额锁定为1个，然后再使用之前的方法来判断。 [...]</p>

		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=110#respond" onclick='return addComment.moveForm("div-comment-110", "110", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-32">
				<div id="div-comment-32" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">匿名</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-32">
			2009/11/2919:39</a>		</div>

		<p>纯YM...</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,32,1,'');">回复</a>]</p>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=32#respond" onclick='return addComment.moveForm("div-comment-32", "32", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-27">
				<div id="div-comment-27" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/5d9a409efad45edb19a553bcc0f77d8f.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">wzc1989</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-27">
			2009/11/2813:47</a>		</div>

		<p>特来膜拜小HH~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,27,1,'wzc1989');">回复</a>]</p><div class="comment-childs chalt" id="comment-29"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">十一月 28th, 2009 at 18:58</small></p><p>回膜拜</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,29,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=27#respond" onclick='return addComment.moveForm("div-comment-27", "27", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-26">
				<div id="div-comment-26" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/a_002.png" class="avatar avatar-32 photo avatar-default" height="32" width="32">			<cite class="fn">daxia</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-26">
			2009/11/2812:38</a>		</div>

		<p>仰慕让大HH膜拜的小HH</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,26,1,'daxia');">回复</a>]</p><div class="comment-childs chalt" id="comment-28"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">十一月 28th, 2009 at 18:58</small></p><p>YM大侠</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,28,2,'shǎ崽');">回复</a>]</p></div><div class="comment-childs chalt" id="comment-3882"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/f095fdf3eb76349c9864885167e19f41.png" class="avatar avatar-32 photo" height="32" width="32"><p><cite>daizhenyang</cite> 回复:<br><small class="commentmetadata">七月 13th, 2012 at 14:28</small></p><p>daxia神牛啊</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,3882,2,'daizhenyang');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=26#respond" onclick='return addComment.moveForm("div-comment-26", "26", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-24">
				<div id="div-comment-24" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/6c480e9b39c1fc2ecf270613d9f1f5f1.jpg" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn">LonelyBoy</cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-24">
			2009/11/2811:12</a>		</div>

		<p>特来膜拜小HH~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,24,1,'LonelyBoy');">回复</a>]</p><div class="comment-childs chalt" id="comment-25"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">十一月 28th, 2009 at 11:42</small></p><p>我是小hh,HH是上边哪位大牛</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,25,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=24#respond" onclick='return addComment.moveForm("div-comment-24", "24", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-21">
				<div id="div-comment-21" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/6ecafc6fe3c586debd42839cdadef290.png" class="avatar avatar-32 photo" height="32" width="32">			<cite class="fn"><a href="http://www.hhanger.com/" rel="external nofollow" class="url">杭之翼</a></cite><span class="says">说道：</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="http://www.notonlysuccess.com/index.php/divide-tree/comment-page-1/#comment-21">
			2009/11/2723:19</a>		</div>

		<p>先沙发，再拜读~hh太牛了，加油~</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,21,1,'杭之翼');">回复</a>]</p><div class="comment-childs chalt" id="comment-23"><img alt="" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/d56a7b2bed9a50c2e21900fb0a32d937.jpg" class="avatar avatar-32 photo" height="32" width="32"><p><cite>shǎ崽</cite> 回复:<br><small class="commentmetadata">十一月 27th, 2009 at 23:26</small></p><p>HH太牛了.</p>
<p class="thdrpy">[<a href="javascript:void(0)" onclick="movecfm(event,23,2,'shǎ崽');">回复</a>]</p></div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/?replytocom=21#respond" onclick='return addComment.moveForm("div-comment-21", "21", "respond", "142")'>回复</a>		</div>
				</div>
		</li><!-- #comment-## -->
	</ol>

	<div class="navigation">
		<div class="alignleft"></div>
		<div class="alignright"></div>
	</div>
 


<div id="respond">

<h3>Leave a Reply</h3>

<div class="cancel-comment-reply">
	<small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.notonlysuccess.com/index.php/divide-tree/#respond" style="display:none;">点击这里取消回复。</a></small>
</div>


<form action="http://www.notonlysuccess.com/success/wp-comments-post.php" method="post" id="commentform">


<p><input name="author" id="author" size="22" tabindex="1" type="text">
<label for="author"><small>Name </small></label></p>

<p><input name="email" id="email" size="22" tabindex="2" type="text">
<label for="email"><small>Mail (will not be published) </small></label></p>

<p><input name="url" id="url" size="22" tabindex="3" type="text">
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" id="submit" tabindex="5" value="Submit Comment" type="submit">
<input name="comment_post_ID" value="142" id="comment_post_ID" type="hidden">
<input name="comment_parent" id="comment_parent" value="0" type="hidden">
</p>
<p style="display: none;"><input id="akismet_comment_nonce" name="akismet_comment_nonce" value="6c3f059e05" type="hidden"></p><input value="" name="cl_post_title" id="cl_post_title" type="hidden"><input value="" name="cl_post_url" id="cl_post_url" type="hidden"><input value="" name="cl_prem" id="cl_prem" type="hidden"><div id="commentluv"><div id="cl_messages"></div><input id="doluv" name="doluv" checked="checked" type="checkbox"><span id="mylastpost"><img alt="CommentLuv badge" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/CL91_default.png"></span><span id="showmorespan"><img class="clarrow" id="showmore" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/down-arrow.gif" alt="显示更多文章" title="显示更多文章" style="display:none;"></span></div><div id="lastposts" style="display:none;"></div><b>注意</b>: 评论者允许使用<b>'@user空格'</b>的方式将自己的评论通知另外评论者。例如， ABC是本文的评论者之一，则使用'@ABC '(不包括单引号)将会自动将您的评论发送给ABC。使用'@all '，将会将评论发送给之前所有其它评论者。请务必注意user必须和评论者名相匹配(大小写一致)。<p><input id="comment_reply_ID" name="comment_reply_ID" value="0" type="hidden"><input id="comment_reply_dp" name="comment_reply_dp" value="0" type="hidden"></p><div id="cancel_reply" style="display:none;"><a href="javascript:void(0)" onclick="movecfm(null,0,1,null);" style="color:red;">点击取消回复</a></div><p><input name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked" style="width: auto;" type="checkbox"><label for="comment_mail_notify" style="display: inline;">有人回复时邮件通知我</label></p><script type="text/javascript">
/* <![CDATA[ */
var commentformid = "commentform";
var USERINFO = false;
var atreply = "none";
/* ]]> */
</script>
<script type="text/javascript" src="%E7%AC%ACk%E5%85%83%E7%B4%A0log%28n%29%E7%AE%97%E6%B3%95%E2%80%93%E5%88%92%E5%88%86%E6%A0%91%20%C2%AB%20NotOnlySuccess_files/wp-thread-comment.htm"></script>

</form>

</div>


	
	</div>


	<div id="sidebar">
		<ul>
			<li id="search-3" class="widget widget_search"><h2 class="widgettitle">Search</h2><form role="search" method="get" id="searchform" class="searchform" action="http://www.notonlysuccess.com/">
				<div>
					<label class="screen-reader-text" for="s">搜索：</label>
					<input name="s" id="s" type="text">
					<input id="searchsubmit" value="搜索" type="submit">
				</div>
			</form></li><!-- Wordpress Popular Posts Plugin v2.3.7 [W] [daily] [views] [regular] -->
<li id="wpp-2" class="widget popular-posts">
<h2 class="widgettitle">Popular Posts</h2><ul class="wpp-list">
<li><a href="http://www.notonlysuccess.com/index.php/segment-tree-complete/" title="【完全版】线段树" class="wpp-post-title" target="_self">【完全版】线段树</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/rocky-mountain-regional-contest-2009solution/" title="Rocky Mountain Regional Contest 2009(Solution)" class="wpp-post-title" target="_self">Rocky Mountain Regional Contest 2009(Solution)</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/tankwar_final/" title="【Astar】坦克大战.final" class="wpp-post-title" target="_self">【Astar】坦克大战.final</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/aho-corasick-automaton/" title="【专辑】AC自动机" class="wpp-post-title" target="_self">【专辑】AC自动机</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/splay-tree/" title="无比强大的数据结构splay-tree" class="wpp-post-title" target="_self">无比强大的数据结构splay-tree</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/segment-tree/" title="线段树专辑" class="wpp-post-title" target="_self">线段树专辑</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/dp_optimize/" title="【专辑】单调队列+斜率优化的DP" class="wpp-post-title" target="_self">【专辑】单调队列+斜率优化的DP</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/a_hard_problem/" title="一道难题" class="wpp-post-title" target="_self">一道难题</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/divide-tree/" title="第k元素log(n)算法--划分树" class="wpp-post-title" target="_self">第k元素log(n)算法--划分树</a> <span class="post-stats"></span></li>
<li><a href="http://www.notonlysuccess.com/index.php/zhejiang-programing-test/" title="省赛" class="wpp-post-title" target="_self">省赛</a> <span class="post-stats"></span></li>

</ul>
</li>
<!-- End Wordpress Popular Posts Plugin v2.3.7 -->
		<li id="recent-posts-3" class="widget widget_recent_entries">		<h2 class="widgettitle">近期文章</h2>		<ul>
					<li>
				<a href="http://www.notonlysuccess.com/index.php/a_hard_problem/" title="一道难题">一道难题</a>
						</li>
					<li>
				<a href="http://www.notonlysuccess.com/index.php/story-4/" title="江湖故事(四)">江湖故事(四)</a>
						</li>
					<li>
				<a href="http://www.notonlysuccess.com/index.php/marathon/" title="当我跑步的时候,我在想些什么">当我跑步的时候,我在想些什么</a>
						</li>
					<li>
				<a href="http://www.notonlysuccess.com/index.php/real/" title="REAL">REAL</a>
						</li>
					<li>
				<a href="http://www.notonlysuccess.com/index.php/story-3/" title="江湖故事(三)">江湖故事(三)</a>
						</li>
				</ul>
		</li><li id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widgettitle">近期评论</h2><ul id="recentcomments"><li class="recentcomments"><a href="http://sharkfly.diandian.com/" rel="external nofollow" class="url">- -</a>发表在《<a href="http://www.notonlysuccess.com/index.php/story-4/comment-page-1/#comment-5386">江湖故事(四)</a>》</li><li class="recentcomments"><a href="http://www.djpartyaddict.com/guestbook" rel="external nofollow" class="url">symantec</a>发表在《<a href="http://www.notonlysuccess.com/index.php/story-4/comment-page-1/#comment-5380">江湖故事(四)</a>》</li><li class="recentcomments"><a href="http://www.kaifazhe.com/programming/390781.html" rel="external nofollow" class="url">线段树练习_入门 - 编程 - 开发者</a>发表在《<a href="http://www.notonlysuccess.com/index.php/segment-tree-complete/comment-page-3/#comment-5337">【完全版】线段树</a>》</li><li class="recentcomments"><a href="http://energycen.com/2012/07/23/ac%e7%9a%84%e7%ac%ac%e4%b8%80%e4%b8%aa%e7%ba%bf%e6%ae%b5%e6%a0%91-hdu1166-%e6%95%8c%e5%85%b5%e5%b8%83%e9%98%b5/" rel="external nofollow" class="url">AC的第一个线段树 HDU1166 敌兵布阵</a>发表在《<a href="http://www.notonlysuccess.com/index.php/segment-tree-complete/comment-page-3/#comment-5336">【完全版】线段树</a>》</li><li class="recentcomments"><a href="http://energycen.com/2012/07/25/poj-3225-help-with-intervals-%e7%ba%bf%e6%ae%b5%e6%a0%91-%e9%9b%86%e5%90%88%e7%9a%84%e4%ba%a4%e5%b9%b6%e5%b7%ae%e8%a1%a5%e8%bf%90%e7%ae%97/" rel="external nofollow" class="url">poj 3225 Help with Intervals 线段树 集合的交并差补运算</a>发表在《<a href="http://www.notonlysuccess.com/index.php/segment-tree-complete/comment-page-3/#comment-5335">【完全版】线段树</a>》</li></ul></li><li id="meta-3" class="widget widget_meta"><h2 class="widgettitle">功能</h2>			<ul>
						<li><a href="http://www.notonlysuccess.com/success/wp-login.php">登录</a></li>
			<li><a href="http://www.notonlysuccess.com/index.php/feed/" title="使用RSS 2.0订阅本站点内容">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.notonlysuccess.com/index.php/comments/feed/" title="使用RSS订阅本站点的所有文章的近期评论">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>						</ul>
</li>		</ul>
	</div>



<hr>

<div id="footer">
<!-- If you'd like to support WordPress, having the "powered by" link somewhere on your blog is the best way; it's our only promotion or advertising. -->
	<p>Powered by <a href="http://wordpress.org/">WordPress</a> | 
    <a href="http://www.notonlysuccess.com/index.php/feed/">Entries (RSS)</a> | 
    <a href="http://www.notonlysuccess.com/index.php/comments/feed/">Comments (RSS)</a> |
    Template by <a href="http://www.mbwebdesign.co.uk/">MB Web Design</a>
		<!-- 98 queries. 1.040 seconds. -->
	</p>
</div>

</div>


</div><!-- End of Wrapper -->

<span id="heart_tip_big" style="display: none;position:absolute; z-index: 1001; background-color: white; color: null; width: 62px;"></span></body></html>